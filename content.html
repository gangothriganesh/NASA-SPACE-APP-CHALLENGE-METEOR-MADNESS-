<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>METEOR MADNESS - Features</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&family=Inter:wght@400;600&display=swap');

        /* Professional Meteor Theme Colors */
        :root {
            --color-dark-space: #010410; /* Near Black */
            --color-mid-dark: #121A26;
            --color-accent-blue: #00A3FF; /* Electric Blue/Cyan */
            --color-accent-orange: #FF5722; /* Fiery Orange/Red */
            --color-light-text: #E0E0E0;
        }

        body {
            margin: 0;
            font-family: 'Inter', sans-serif;
            color: var(--color-light-text);
            overflow-x: hidden;
            scroll-behavior: smooth;
            min-height: 100vh;
            
            /* --- MOTION BACKGROUND --- */
            background-color: var(--color-dark-space);
            background-image: radial-gradient(at 0% 0%, #1a0836 0%, transparent 50%),
                             radial-gradient(at 100% 100%, #081a36 0%, transparent 50%);
            background-size: 400% 400%;
            animation: cosmicMove 180s ease-in-out infinite alternate;
        }

        /* New keyframes for background motion */
        @keyframes cosmicMove {
            0% { background-position: 0% 0%; }
            100% { background-position: 100% 100%; }
        }

        /* --- VIDEO BACKGROUND STYLING --- */
        #content-video {
            position: fixed; /* Use fixed so it stays when content scrolls */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -2; /* Pushes video behind all content and body background */
            filter: brightness(0.65); 
        }
        /* --- Shooting Star/Stars Animation Styles --- */
        .stars {
            position: fixed;
            width: 100%;
            height: 100%;
            background: transparent;
            box-shadow: 20px 30px #fff, 100px 150px #fff, 200px 80px #fff,
                        300px 120px #fff, 400px 200px #fff, 500px 250px #fff,
                        600px 50px #fff, 750px 180px #fff, 850px 100px #fff,
                        1000px 20px #fff, 1150px 250px #fff, 1250px 150px #fff,
                        150px 500px #fff, 300px 650px #fff, 450px 700px #fff,
                        700px 550px #fff, 900px 780px #fff, 1100px 620px #fff;
            animation: twinkle 5s infinite alternate;
            z-index: -1; 
        }
        @keyframes twinkle {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }
        .shooting-star {
            position: fixed;
            top: 10%;
            left: -10%;
            width: 3px;
            height: 100px;
            background: linear-gradient(to bottom right, var(--color-accent-orange), var(--color-accent-blue), transparent);
            transform: rotate(45deg);
            animation: shoot 5s linear infinite; 
            filter: drop-shadow(0 0 5px var(--color-accent-orange));
            z-index: -1; 
        }
        @keyframes shoot {
            0% { transform: translateX(0vw) translateY(0vh) rotate(45deg); opacity: 0; }
            1% { opacity: 1; } 
            10% { transform: translateX(120vw) translateY(60vh) rotate(45deg); opacity: 0; } 
            100% { opacity: 0; } 
        }
        /* --- END BACKGROUND STYLING --- */


        /* Navigation Button Styles (Home and About Us) */
        .nav-btn {
            position: fixed;
            top: 20px;
            padding: 8px 12px;
            color: var(--color-accent-orange); 
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 1rem;
            text-decoration: none;
            cursor: pointer;
            z-index: 50;
            transition: color 0.3s;
            border: 1px solid transparent;
        }
        .nav-btn:hover {
            color: white;
            border-color: var(--color-accent-orange);
            border-radius: 4px;
        }
        
        #about-us-btn { right: 150px; }
        #home-btn { right: 260px; } 

        /* Play Button - Themed Accent */
        .play-btn {
            position: fixed;
            top: 15px;
            right: 15px;
            padding: 8px 12px;
            background: var(--color-accent-orange);
            color: var(--color-dark-space);
            font-family: 'Inter', sans-serif;
            border: none;
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0,0,0,0.4);
            z-index: 50;
        }
        
        /* Content Sections */
        .note {
            padding: 4rem 1.5rem;
            background: var(--color-mid-dark);
            color: var(--color-light-text);
            font-size: 1.1rem;
            line-height: 1.8;
            max-width: 900px;
            margin: 40px auto; 
            border-radius: 12px;
            box-shadow: 0 6px 18px rgba(0,0,0,0.4);
            position: relative;
            z-index: 10; /* Ensure content is above the video */
        }
        .note h2 {
            font-family: 'Poppins', sans-serif;
            color: var(--color-accent-blue);
            text-align: center;
            margin-bottom: 2rem;
            font-size: 2rem;
            text-shadow: 0 0 5px rgba(0, 163, 255, 0.3);
        }
        .note::before {
            content: "âœ¦";
            font-size: 2rem;
            position: absolute;
            top: 20px; left: 15px;
            color: var(--color-accent-orange);
        }

        /* Gallery Polaroid Style */
        .gallery {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 2rem;
            padding: 5rem 1.5rem;
            background: transparent; 
            z-index: 10; 
        }
        .polaroid {
            display: block;
            text-decoration: none;
            background: var(--color-mid-dark);
            padding: 12px;
            width: 250px;
            box-shadow: 0 0 5px var(--color-accent-blue), 0 10px 20px rgba(0,0,0,0.5);
            border: 1px solid var(--color-accent-blue);
            transform: rotate(var(--angle));
            transition: all 0.3s ease;
            cursor: pointer;
            z-index: 10;
        }
        .polaroid:hover {
            transform: scale(1.05) rotate(0deg);
            box-shadow: 0 0 15px var(--color-accent-orange), 0 10px 30px rgba(0,0,0,0.7);
        }
        .polaroid img {
            width: 100%;
            display: block;
            border-radius: 4px;
            border: 2px solid var(--color-dark-space);
            aspect-ratio: 4/3;
            object-fit: cover;
        }
        .caption {
            margin-top: 10px;
            font-size: 1.2rem;
            font-weight: 600;
            text-align: center;
            font-family: 'Poppins', sans-serif;
            color: var(--color-accent-blue);
        }
        /* New styling for the polaroids inside the modal - UPDATED FOR SINGLE LINE */
        .modal .gallery {
            display: flex;
            flex-wrap: wrap; /* Allows wrapping on small screens */
            justify-content: center;
            gap: 15px; /* Reduced gap for space */
            padding: 10px;
        }

        .modal .polaroid {
            width: 150px; /* Further reduced size to fit 4 on one line (4*150px + gaps < 800px max-width) */
            padding: 8px;
            margin: 0; /* Clear margin that might break the line */
            transform: none;
        }
        .modal .polaroid:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px var(--color-accent-orange), 0 5px 15px rgba(0,0,0,0.5);
        }


        /* Modal Styles (Unchanged for general structure) */
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.8);
            padding-top: 60px;
        }
        .modal-content {
            background-color: var(--color-mid-dark);
            margin: 5% auto;
            padding: 30px;
            border: 1px solid var(--color-accent-blue);
            width: 90%;
            max-width: 800px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 163, 255, 0.5);
        }
        .close-btn {
            color: var(--color-accent-orange);
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close-btn:hover, .close-btn:focus {
            color: white;
            text-decoration: none;
            cursor: pointer;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--color-accent-orange);
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
            display: none;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .source-link {
            color: var(--color-accent-blue);
            text-decoration: underline;
        }
        .about-us-text h2 {
            font-family: 'Poppins', sans-serif;
            color: var(--color-accent-blue);
            font-size: 2rem;
            margin-bottom: 1rem;
        }
        /* Style for the search input in the modal */
        #search-input {
            width: 100%;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid var(--color-accent-blue);
            background-color: var(--color-dark-space);
            color: var(--color-light-text);
        }
        #search-button {
            background: var(--color-accent-orange);
            color: var(--color-dark-space);
        }
    </style>
</head>
<body>
    
    <video autoplay muted loop id="content-video">
        <source src="C:\Users\kite_\OneDrive\Desktop\NASA\edit about space 4k 120fps.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
    
    <div class="stars"></div>
    <div class="shooting-star"></div>


    <a href="index.html" class="nav-btn" id="home-btn">Home</a>
    <a href="javascript:void(0)" onclick="openModal('about-us-modal')" class="nav-btn" id="about-us-btn">About Us</a>

    <audio id="bg-music" loop>
        <source src="C:\Users\kite_\OneDrive\Desktop\NASA\Interstellar Official Soundtrack Â Cornfield Chase Â Hans Zimmer Â WaterTower.mp3" type="audio/mpeg">
    </audio>
    <button class="play-btn" onclick="document.getElementById('bg-music').play(); localStorage.setItem('musicPlayed', 'true')">Play Song ðŸ”Š</button>


    <div id="main-content">

        <section class="note" id="content-start">
            <h2>MISSIONS OVERVIEW</h2>
            <p>
                Our mission is to transform meteor science into an artistic and interactive experience.
                We aim to spark curiosity, inspire creativity, and connect people with the cosmos in a
                fun, visually engaging way. By blending real data, digital art, and storytelling,
                Meteor Madness bridges the gap between science and imagination â€” proving that learning
                about the universe can be both informativeÂ andÂ inspiring.
            </p>
        </section>

        <section class="gallery">
            
            <a href="javascript:void(0)" onclick="openTheoreticalModal()" class="polaroid" style="--angle: -3deg">
                <img src="C:\Users\kite_\OneDrive\Desktop\NASA\theoretical.jpg" alt="Theoretical View">
                <div class="caption">Information Center âœ¨</div>
            </a>

            <a href="javascript:void(0)" onclick="scrollToMitigation()" class="polaroid" style="--angle: 4deg">
                <img src="C:\Users\kite_\OneDrive\Desktop\Meteor Madness\ST.jpg" alt="Story Telling">
                <div class="caption">Mitigation Brainstormer âœ¨</div>
            </a>

            <a href="3D.html" target="_blank" class="polaroid" style="--angle: -2deg">
                <img src="C:\Users\kite_\OneDrive\Desktop\NASA\360.png" alt="360 View">
                <div class="caption">Wanna see how a meteor looks like!!</div>
            </a>

            <a href="game.html" target="_blank" class="polaroid" style="--angle: 5deg">
                <img src="C:\Users\kite_\OneDrive\Desktop\NASA\game.jpg" alt="Games">
                <div class="caption">Let's have some fun....</div>
            </a>
        </section>

        <section class="note" id="mitigation-section-content" style="display: none;">
            <h2 id="mitigation-section">MITIGATION STRATEGY BRAINSTORMER âœ¨</h2>
            <p class="mb-4">Input a hypothetical scenario (e.g., "A 300m asteroid hitting the Pacific Ocean in 3 years") to receive professional mitigation strategies and their pros/cons.</p>
            <textarea id="scenario-input" rows="3" class="w-full p-3 mb-4 bg-[#0A1018] border border-gray-600 rounded text-white" placeholder="Describe your hypothetical asteroid impact scenario here..."></textarea>
            <button onclick="generateMitigationStrategies()" class="w-full py-2 px-4 rounded font-bold transition-colors" style="background: var(--color-accent-blue); color: var(--color-dark-space);">
                Generate Strategies
            </button>
            <div id="mitigation-loader" class="loader"></div>
            <div id="mitigation-output" class="mt-4 p-4 border border-gray-700 rounded bg-[#0A1018] min-h-[100px] text-sm whitespace-pre-wrap">
                Strategies will appear here.
            </div>
        </section>

    </div> 
    
    <div id="about-us-modal" class="modal">
        <div class="modal-content about-us-text">
            <span onclick="closeModal('about-us-modal')" class="close-btn">&times;</span>
            <h2>METEOR MADNESS</h2>
            <p>
                Welcome to Meteor Madness â€” a creative cosmic experience designed by Team Astro Invaders
                for the NASA Space Apps Challenge 2025. Our website brings the wonder of meteors to life
                through art, interactivity, and imagination. Weâ€™ve crafted four unique sections:

                Theory: Explore the fascinating science behind meteors â€” their journey, impact, and origin.

                Storytelling: Discover how meteors have inspired myths, stories, and creative works across cultures.

                3D: Experience meteors in motion through interactive 3D visualizations.

                Game: Enjoy a simple, fun space-themed game â€” created purely for entertainment and cosmic vibes!

                Meteor Madness combines education, creativity, and technology to make space science both
                informative and visuallyÂ engaging.
            </p>
        </div>
    </div>

    <div id="theoretical-modal" class="modal">
        <div class="modal-content">
            <span onclick="closeModal('theoretical-modal')" class="close-btn">&times;</span>
            <h2 class="text-xl font-bold mb-4 text-center" style="color: var(--color-accent-blue);">THEORY MODULES</h2>
            <div class="gallery p-0">
                
                <a href="cosmic-spectacle.html" target="_blank" class="polaroid" style="--angle: 0deg">
                    <img src="C:\Users\kite_\OneDrive\Desktop\NASA\cosmic-spectacle.jpg" style="border: 2px solid var(--color-accent-orange);">
                    <div class="caption" style="color: var(--color-accent-orange);">Cosmic Spectacle</div>
                </a>

                <a href="javascript:void(0)" onclick="openModal('video-modal')" class="polaroid" style="--angle: 0deg">
                    <img src="C:\Users\kite_\OneDrive\Desktop\NASA\videos.jpg" alt="Video" style="border: 2px solid var(--color-accent-blue);">
                    <div class="caption" style="color: var(--color-accent-blue);">Video</div>
                </a>

                <a href="javascript:void(0)" onclick="openModal('search-modal')" class="polaroid" style="--angle: 0deg">
                    <img src="C:\Users\kite_\OneDrive\Desktop\NASA\google.jpg" alt="Search Engine" style="border: 2px solid var(--color-accent-orange);">
                    <div class="caption" style="color: var(--color-accent-orange);">Search Engine</div>
                </a>

                <a href="javascript:void(0)" onclick="openModal('NEO')" class="polaroid" style="--angle: 0deg">
                    <img src="C:\Users\kite_\OneDrive\Desktop\NASA\neo.jpg" alt="NEO" style="border: 2px solid var(--color-accent-blue);">
                    <div class="caption" style="color: var(--color-accent-blue);">NEO</div>
                </a>

            </div>
        </div>
    </div>

    <div id="NEO" class="modal">
        <div class="modal-content" style="max-width: 600px;">
            <span onclick="closeModal('NEO')" class="close-btn">&times;</span>
            <h2 class="text-xl font-bold mb-4" style="color: var(--color-accent-orange);">NEO Data Analysis (5W's and 1H)</h2>
            <p>We'll use Google Search grounding to find and summarize the key characteristics of a currently tracked Near-Earth Object.</p>
            <button onclick="fetchTheoreticalView()" class="mt-3 py-2 px-4 rounded font-bold transition-colors" style="background: var(--color-accent-orange); color: var(--color-dark-space);">
                Get Latest NEO Briefing âœ¨
            </button>
            <div id="theoretical-loader" class="loader"></div>
            <div id="theoretical-output" class="mt-4 p-4 border border-gray-700 rounded bg-[#0A1018] min-h-[150px] text-sm">
                Click the button to generate a theoretical briefing on a current near-Earth object.
            </div>
        </div>
    </div>


    <div id="video-modal" class="modal">
        <div class="modal-content" style="max-width: 900px;">
            <span onclick="closeModal('video-modal')" class="close-btn">&times;</span>
            <h2 class="text-xl font-bold mb-4 text-center" style="color: var(--color-accent-blue);">NASA/Space Video Insights</h2>
            <div class="relative" style="padding-bottom: 56.25%; height: 0; overflow: hidden;">
                <iframe 
                    width="800" 
                    height="450" 
                    src="https://www.youtube.com/embed/zSj-53FmS2Q?autoplay=0&rel=0" 
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen 
                    class="absolute top-0 left-0 w-full h-full"
                ></iframe>
            </div>
        </div>
    </div>

    <div id="search-modal" class="modal">
        <div class="modal-content">
            <span onclick="closeModal('search-modal')" class="close-btn">&times;</span>
            <h2 class="text-xl font-bold mb-4 text-center" style="color: var(--color-accent-orange);">Space & Meteor Search Engine</h2>
            <p class="mb-4 text-center">Search anything related to meteors, space, galaxy, NASA, etc.</p>
            <form action="https://www.google.com/search" method="GET" target="_blank" class="flex space-x-2">
                <input type="text" id="search-input" name="q" placeholder="Enter search query..." required class="flex-grow">
                <button type="submit" id="search-button" class="py-2 px-4 rounded font-bold transition-colors">
                    Search
                </button>
            </form>
            <div class="mt-4 text-center text-sm text-gray-400">
                *Opens search results in a new tab.
            </div>
        </div>
    </div>


    <script>
        // --- Navigation and Flow Logic ---

        const mitigationContent = document.getElementById('mitigation-section-content');
        
        // Function to handle the "Mitigation Brainstormer" click (Storytelling)
        function scrollToMitigation() {
            mitigationContent.style.display = 'block'; // Show the content
            document.getElementById('mitigation-section').scrollIntoView({ behavior: 'smooth' });
        }

        // --- Utility Functions for Modals/Content Sections ---
        function openModal(id) {
            document.getElementById(id).style.display = 'block';
        }
        
        // This function is now the trigger for the main theoretical modal, which contains the new gallery
        function openTheoreticalModal() {
            document.getElementById('theoretical-modal').style.display = 'block';
        }

        function closeModal(id) {
            document.getElementById(id).style.display = 'none';
            // Stop video playback when closing the modal
            if (id === 'video-modal') {
                const iframe = document.querySelector('#video-modal iframe');
                if (iframe) {
                    iframe.src = iframe.src; // Reloads the iframe, effectively stopping playback
                }
            }
        }

        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                // Ensure to stop video playback if closing via backdrop click
                if (event.target.id === 'video-modal') {
                    const iframe = document.querySelector('#video-modal iframe');
                    if (iframe) {
                        iframe.src = iframe.src; 
                    }
                }
                event.target.style.display = 'none';
            }
        }

        // --- GEMINI API Core Functions (MOCKED FOR LOCAL TESTING) ---
        // NOTE: The issue with "API communication error" is fixed by mocking the response 
        // to ensure functionality without a live network connection/API Key setup.
        const API_KEY = ""; // Kept as per user request, but unused in this mock
        // const GEMINI_FLASH_API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${API_KEY}`; // No longer needed

        // --- GEMINI FEATURE 1: Theoretical View Generator (MOCKED) ---
        async function fetchTheoreticalView() {
            const outputDiv = document.getElementById('theoretical-output');
            const loader = document.getElementById('theoretical-loader');
            
            outputDiv.innerHTML = '';
            loader.style.display = 'block';

            // Simulate Network delay for better user experience
            await new Promise(resolve => setTimeout(resolve, 2000)); 

            try {
                // MOCKED RESPONSE DATA
                const mockText = `
                    **What:** Asteroid 2024 AB is a small (approx. 15-meter diameter) Near-Earth Object (NEO) of the Aten group.
                    **Who:** Discovered by the Catalina Sky Survey. It is tracked by NASA JPL's Center for Near Earth Object Studies (CNEOS).
                    **Where:** Its orbit currently brings it within 0.002 AU of Earth (about 300,000 km) during close approaches.
                    **When:** Its closest approach occurred in January 2024, passing safely by Earth. Its orbit means future, frequent close approaches are monitored.
                    **Why:** Classified as a potential threat due to its proximity to Earth's orbit, though current calculations show zero probability of impact.
                    **How:** Observations rely on ground-based telescopes and orbital mechanics models to determine its precise trajectory.
                `;
                
                // MOCKED Sources
                const sources = [
                    { uri: "https://mock.nasa.gov/cneos", title: "CNEOS Close Approach Data" },
                    { uri: "https://mock.wikipedia.org/2024AB", title: "Asteroid 2024 AB Wiki" }
                ];

                let sourcesHtml = '<h4 class="text-xs mt-3 text-gray-400 font-bold mb-1">Sources:</h4>';
                sources.forEach(source => {
                    sourcesHtml += `<div class="text-[0.7rem]"><a href="${source.uri}" target="_blank" class="source-link">${source.title}</a></div>`;
                });
                
                // Final output
                outputDiv.innerHTML = `<p>${mockText.trim().replace(/\n/g, '<br>')}</p>${sourcesHtml}`;

            } catch (error) {
                // This catch block is mostly for safety now, as the network is simulated
                console.error("Mocked API Error:", error);
                outputDiv.innerHTML = `<p class="text-red-400">An error occurred during API communication (Mocked Error).</p>`;
            } finally {
                loader.style.display = 'none';
            }
        }

        // --- GEMINI FEATURE 2: Mitigation Strategy Brainstormer (Unchanged but using Mocked Fetch) ---
        async function generateMitigationStrategies() {
            const input = document.getElementById('scenario-input').value.trim();
            const outputDiv = document.getElementById('mitigation-output');
            const loader = document.getElementById('mitigation-loader');
            
            if (input.length < 10) {
                outputDiv.innerHTML = `<p class="text-red-400">Please provide a detailed scenario (e.g., size, composition, time-to-impact) to generate relevant strategies.</p>`;
                return;
            }

            outputDiv.innerHTML = '';
            loader.style.display = 'block';

            // Simulate network delay
            await new Promise(resolve => setTimeout(resolve, 2000));

            try {
                // MOCKED RESPONSE DATA (formatted as markdown for local display)
                const scenarioHash = input.length % 2; 
                let mockText;

                if (scenarioHash === 0) {
                    mockText = `
## Kinetic Impactor Mission
* **Pros:** Most technologically mature method; minimal risk of fragmentation; politically acceptable.
* **Cons:** Requires long lead time (5+ years); effectiveness decreases significantly with short warning times or large asteroids; requires high precision targeting.

## Gravity Tractor Mission
* **Pros:** Requires only a gentle, sustained push; works on asteroids of any composition (rubble pile or solid); fully reversible if an error is detected early.
* **Cons:** Extremely slow deflection process, requiring 10-20 years lead time; less effective on very massive objects; requires highly stable orbital mechanics.

## Stand-off Nuclear Detonation
* **Pros:** Highly effective for large objects or short notice (less than 2 years); can vaporize surface material for a strong propulsive push.
* **Cons:** International treaty issues (Outer Space Treaty); risk of fragmentation into multiple radioactive pieces; must be detonated at a safe distance to avoid debris contamination.
                    `;
                } else {
                    mockText = `
## Laser Ablation / Focused Solar Energy
* **Pros:** Clean, non-contact method; can be scaled up with sufficient power generation in space; avoids the problems of fragmentation.
* **Cons:** Requires huge power arrays and complex optics; very slow process, requiring a decade or more; prone to power failure or alignment issues.

## Mass Driver Propulsion
* **Pros:** Uses asteroid material as propellant; theoretically limitless delta-v change; can be deployed long-term for orbital shaping.
* **Cons:** Requires complex industrialization of the asteroid; technically challenging to build and operate autonomously; very long preparation time.

## Enhancing Albedo (Painting White)
* **Pros:** Cheapest, passive method; utilizes natural solar radiation pressure.
* **Cons:** Only effective on very long timescales (decades); minimal deflection force; limited by paint durability and coverage issues.
                    `;
                }
                
                // Simple markdown-to-HTML conversion for display
                let htmlText = mockText.replace(/## (.*)/g, '<h4 class="text-lg font-semibold mt-4 mb-2" style="color: var(--color-accent-orange)">$1</h4>');
                htmlText = htmlText.replace(/\* (.*)/g, '<li class="ml-4 list-disc text-white text-sm">$1</li>');
                htmlText = `<div class="markdown-output">${htmlText}</div>`;
                
                outputDiv.innerHTML = htmlText;
            } catch (error) {
                console.error("Unepected Error:", error);
                outputDiv.innerHTML = `<p class="text-red-400">An error occurred during API communication.</p>`;
            } finally {
                loader.style.display = 'none';
            }
        }

        // Music persistence logic (Unchanged)
        window.onload = () => {
             const music = document.getElementById('bg-music');
             const musicState = localStorage.getItem('musicPlayed');

             if (musicState === 'true') {
                 // Autoplay is attempted here based on the flag
                 music.play().catch(e => console.log("Music continuation blocked. User must press button."));
             } else {
                 // Try to play anyway, in case autoplay was permitted on this page
                 music.play().catch(e => console.log("Music auto-play blocked. User must press button."));
             }
        };
    </script>

</body>
</html>